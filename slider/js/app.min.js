const container=document.querySelector(".container");let sliderLine=document.querySelector(".slider");const items=document.querySelectorAll(".item");let itemWidth=container.clientWidth;const movePosition=itemWidth;let block=!1;items.forEach(e=>{e.style.minWidth=itemWidth+"px"});let destPosition=0;for(let e=0;e<items.length;e++)items[e].setAttribute("data-num",e),items[e].setAttribute("data-originpos",""+(e+1)*-movePosition);let cloneOfLast=sliderLine.lastElementChild.cloneNode(!0),cloneOfFirst=sliderLine.firstElementChild.cloneNode(!0);cloneOfLast.classList.add("clone"),cloneOfFirst.classList.add("clone"),sliderLine.prepend(cloneOfLast),sliderLine.append(cloneOfFirst),destPosition=-movePosition,sliderLine.style.left=destPosition+"px";let itemsWithClones=sliderLine.querySelectorAll(".item");for(let e=0;e<sliderLine.querySelectorAll(".item").length;e++)itemsWithClones[e].setAttribute("data-realpos",""+e*-movePosition);function move(e,t){if(e=parseInt(e),!block){let i=destPosition;t?destPosition-=movePosition:destPosition+=movePosition,block=!0;let o=setInterval((function(){if(i>=destPosition&&!t||i<=destPosition&&t){clearInterval(o);let e=sliderLine.querySelector(`[data-realpos="${destPosition}"]`);destPosition=parseInt(e.getAttribute("data-originpos")),sliderLine.style.left=destPosition+"px",updateDots(e.getAttribute("data-num")),block=!1}else t?i-=e:i+=e,sliderLine.style.left=i+"px"}),1)}}function updateDots(e){let t=document.querySelectorAll(".nav-dots .dot");t.forEach(e=>e.classList.remove("active")),t[e].classList.add("active")}document.querySelector(".arrow.left").addEventListener("click",()=>move(5,!1)),document.querySelector(".arrow.right").addEventListener("click",()=>move(5,!0));const countDots=items.length,dotContainer=container.querySelector(".nav-dots");for(let e=0;e<countDots;e++){let t=document.createElement("div");t.className="dot",t.setAttribute("data-index",e),0==e&&t.classList.add("active"),dotContainer.append(t),t.addEventListener("click",(function(){let t=Array.from(document.querySelectorAll(".nav-dots .dot")).find(e=>e.classList.contains("active")).getAttribute("data-index");if(t>e){if(!block){block=!0;let i=destPosition;destPosition+=(t-e)*movePosition;let o=setInterval((function(){i>=destPosition?(clearInterval(o),destPosition=parseInt(sliderLine.querySelector(`[data-realpos="${destPosition}"]`).getAttribute("data-originpos")),sliderLine.style.left=sliderLine.querySelector(`[data-realpos="${destPosition}"]`).getAttribute("data-originpos")+"px",updateDots(e),block=!1):(i+=20,sliderLine.style.left=i+"px")}),1)}}else if(t==e);else if(!block){block=!0;let i=destPosition;destPosition-=(e-t)*movePosition;let o=setInterval((function(){i<=destPosition?(clearInterval(o),destPosition=parseInt(sliderLine.querySelector(`[data-realpos="${destPosition}"]`).getAttribute("data-originpos")),sliderLine.style.left=sliderLine.querySelector(`[data-realpos="${destPosition}"]`).getAttribute("data-originpos")+"px",updateDots(e),block=!1):(i-=20,sliderLine.style.left=i+"px")}),1)}}))}